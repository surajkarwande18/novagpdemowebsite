<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>рдЕрд░реНрдерд╕рдВрдХрд▓реНрдк рдЖрдгрд┐ рдкрд╛рд░рджрд░реНрд╢рдХрддрд╛ | рдЧреНрд░рд╛рдордкрдВрдЪрд╛рдпрдд</title>
<link rel="stylesheet" href="assets/css/style.css">

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* ЁЯМИ Animated Background */
body {
  font-family: "Noto Sans Devanagari", sans-serif;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  background: linear-gradient(-45deg, #d4ffe1, #eafaf1, #ffffff, #e2fff2);
  background-size: 400% 400%;
  animation: gradientMove 15s ease infinite;
  scroll-behavior: smooth;
}
@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* ЁЯМР Navbar */
nav {
  position: fixed; top: 0; width: 100%; background: rgba(0,128,58,0.95);
  color: white; display:flex; justify-content:space-between; align-items:center;
  padding: 15px 30px; z-index:999; backdrop-filter: blur(10px);
  transition: all 0.3s ease;
}
nav.scrolled { box-shadow:0 4px 15px rgba(0,0,0,0.25); }
nav a { color:white; margin:0 15px; text-decoration:none; font-weight:bold; transition:0.3s; }
nav a:hover { color:#ffce56; }
#liveTime { font-size:0.95rem; font-weight:bold; text-shadow: 0 0 6px #00ff88; }

/* Section */
.section { width:90%; margin:120px auto 60px; backdrop-filter: blur(15px); background: rgba(255,255,255,0.75);
  padding:50px; border-radius:25px; box-shadow:0 8px 30px rgba(0,128,58,0.15); }

/* Title */
.section h2 { color:#008a40; font-size:2.4rem; text-align:center; margin-bottom:40px; text-shadow:1px 1px #c6f2d2; }

/* Summary Cards */
.summary { display:grid; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); gap:30px; margin-bottom:50px; }
.card {
  background: rgba(255,255,255,0.85); border:1px solid rgba(0,128,58,0.15); padding:25px; border-radius:20px;
  text-align:center; box-shadow:0 4px 15px rgba(0,128,58,0.1); opacity:0; transform:translateX(-50px);
  transition: all 0.8s ease-out;
}
.card.visible { opacity:1; transform:translateX(0); }
.card:hover { box-shadow:0 0 20px rgba(0,168,80,0.5); transform: scale(1.05); transition:0.3s; }
.card h3 { color:#00994d; margin-bottom:10px; }
.card p { font-size:1.2rem; color:#333; }

/* Table */
.table-container { margin-top:40px; overflow-x:auto; border-radius:15px; opacity:0; transform:scale(0.95); transition:0.8s; }
.table-container.visible { opacity:1; transform:scale(1); }
table { width:100%; border-collapse:collapse; font-size:1.05rem; border-radius:15px; overflow:hidden; box-shadow:0 4px 20px rgba(0,128,58,0.1); }
th,td { border:1px solid #cce3d1; padding:12px; text-align:center; position:relative; }
th { background:linear-gradient(90deg,#00a850,#00994d); color:#fff; }
tr:nth-child(even){ background:#f3fbf6; }
tr:hover{ background:#e6fff0; transform:scale(1.01); transition:0.3s; }
td[contenteditable="true"]{ background:#fffff7; outline:none; cursor:text; }
td.negative{ color:red; font-weight:bold; }
tfoot td { background:#e7f9ec; font-weight:bold; }

/* Button */
.download-btn { background:linear-gradient(90deg,#00a850,#00994d); color:#fff; border:none; padding:14px 32px; border-radius:14px; font-size:1.1rem; cursor:pointer; margin:15px 8px; transition: all 0.3s ease; }
.download-btn:hover { transform:scale(1.07); background:linear-gradient(90deg,#007b3a,#00a850); box-shadow:0 0 12px rgba(0,168,80,0.4); }

/* Charts */
canvas { max-width:800px; height:400px !important; display:block; margin:40px auto; opacity:0; transform:scale(0.95); transition:all 1s ease; }
canvas.visible { opacity:1; transform:scale(1); }

/* Highlight */
.highlight { background:rgba(250,255,252,0.9); padding:25px; border-left:6px solid #00a850; border-radius:15px; margin-top:50px; line-height:1.8; box-shadow:0 4px 20px rgba(0,168,80,0.08); opacity:0; transform:translateY(30px); transition:all 0.8s ease; }
.highlight.visible { opacity:1; transform:translateY(0); }

/* Tooltip */
td[data-tooltip]:hover::after {
  content: attr(data-tooltip);
  position: absolute; top:-30px; left:50%; transform:translateX(-50%);
  background:rgba(0,128,58,0.9); color:#fff; padding:5px 10px; border-radius:6px; font-size:0.8rem; white-space: nowrap;
  pointer-events:none;
}

/* Pulse animation for largest expense */
@keyframes pulse { 0%{transform:scale(1);}50%{transform:scale(1.08);}100%{transform:scale(1);} }
</style>
</head>

<body>


<!-- Secondary nav (Section Navigation) -->
<nav id="navbar">
    <div><strong>рдЧреНрд░рд╛рдордкрдВрдЪрд╛рдпрдд</strong></div>
    <div>
        <a href="#financeSection">рдЕрд░реНрдерд╕рдВрдХрд▓реНрдк</a>
        <span id="liveTime"></span>
    </div>
</nav>

<!-- ЁЯФ░ Navigation Action Bar -->
<section class="top-action-bar">
    <button onclick="history.back()" class="action-btn">тмЕя╕П рдорд╛рдЧреЗ рдЬрд╛</button>
    <a href="index.html" class="action-btn">ЁЯПа рдореБрдЦреНрдпрдкреГрд╖реНрда</a>
</section>


<section class="section" id="financeSection">
  <h2>ЁЯТ░ рдЕрд░реНрдерд╕рдВрдХрд▓реНрдк рдЖрдгрд┐ рдкрд╛рд░рджрд░реНрд╢рдХрддрд╛</h2>

  <div class="summary">
    <div class="card"><h3>рд╡рд╛рд░реНрд╖рд┐рдХ рдЕрд░реНрдерд╕рдВрдХрд▓реНрдк</h3><p>тВ╣ рейрел,режреж,режрежреж</p></div>
    <div class="card"><h3>рдЙрддреНрдкрдиреНрдирд╛рдЪреЗ рд╕реНрд░реЛрдд</h3><p>рдХрд░, рдЕрдиреБрджрд╛рди, рджреЗрдгрдЧреНрдпрд╛</p></div>
    <div class="card"><h3>рдЦрд░реНрдЪрд╛рдЪреЗ рд╡рд┐рднрд╛рдЧ</h3><p>рд╕реНрд╡рдЪреНрдЫрддрд╛, рдкрд╛рдгреАрдкреБрд░рд╡рдард╛, рд░рд╕реНрддреЗ, рд╢рд┐рдХреНрд╖рдг</p></div>
  </div>

  <div class="table-container">
    <h3 style="color:#008a40;">ЁЯУК рд╡рд┐рднрд╛рдЧрдирд┐рд╣рд╛рдп рд╡рд┐рддреНрддреАрдп рддрдкрд╢реАрд▓</h3>
    <table id="financeTable">
      <thead>
        <tr>
          <th>рд╡рд┐рднрд╛рдЧ</th>
          <th>рдЙрддреНрдкрдиреНрди (тВ╣)</th>
          <th>рдЦрд░реНрдЪ (тВ╣)</th>
          <th>рд╢рд┐рд▓реНрд▓рдХ (тВ╣)</th>
        </tr>
      </thead>
      <tbody>
        <tr><td contenteditable="true">рд╕реНрд╡рдЪреНрдЫрддрд╛</td><td contenteditable="true">600000</td><td contenteditable="true">520000</td><td>80000</td></tr>
        <tr><td contenteditable="true">рдкрд╛рдгреАрдкреБрд░рд╡рдард╛</td><td contenteditable="true">750000</td><td contenteditable="true">690000</td><td>60000</td></tr>
        <tr><td contenteditable="true">рд╢рд┐рдХреНрд╖рдг</td><td contenteditable="true">500000</td><td contenteditable="true">440000</td><td>60000</td></tr>
        <tr><td contenteditable="true">рд░рд╕реНрддреЗ</td><td contenteditable="true">1000000</td><td contenteditable="true">880000</td><td>120000</td></tr>
        <tr><td contenteditable="true">рдЗрддрд░ рд╡рд┐рдХрд╛рд╕рдХрд╛рд░реНрдп</td><td contenteditable="true">570000</td><td contenteditable="true">320000</td><td>250000</td></tr>
      </tbody>
      <tfoot>
        <tr>
          <td>рдПрдХреВрдг</td>
          <td id="totalIncome">0</td>
          <td id="totalExpense">0</td>
          <td id="totalBalance">0</td>
        </tr>
      </tfoot>
    </table>
  </div>

  <canvas id="barChart"></canvas>
  <canvas id="pieChart"></canvas>

  <div style="text-align:center;">
    <button class="download-btn">ЁЯУК CSV рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рд╛</button>
  </div>

  <div class="highlight">
    <h3>ЁЯУШ рдЗрддрд░ рд╡рд┐рддреНрддреАрдп рдорд╛рд╣рд┐рддреА:</h3>
    <ul>
      <li>рд╡рд╛рд░реНрд╖рд┐рдХ рдЖрд░реНрдерд┐рдХ рдЕрд╣рд╡рд╛рд▓ рд╡ рдСрдбрд┐рдЯ рд░рд┐рдкреЛрд░реНрдЯ.</li>
      <li>рдЧреНрд░рд╛рдордирд┐рдзреАрдЪреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдСрдирд▓рд╛рдЗрди рдкрд╛рд╣рддрд╛ рдпреЗрдгреНрдпрд╛рдЪреА рд╕реБрд╡рд┐рдзрд╛.</li>
      <li>рджрд░рдорд╣рд╛ рдЦрд░реНрдЪ рд╡ рдирд┐рдзреА рдкреНрд░рд╛рдкреНрддреА рдпрд╛рдВрдЪреЗ рдЧреНрд░рд╛рдлрд┐рдХрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг.</li>
      <li>рдЬрдирддреЗрдЪрд╛ рд╕рд╣рднрд╛рдЧ рдЕрд╕рд▓реЗрд▓реА рдкрд╛рд░рджрд░реНрд╢рдХ рдпреЛрдЬрдирд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛.</li>
      <li>рдЧреНрд░рд╛рдордкрдВрдЪрд╛рдпрддреАрдЪреНрдпрд╛ рдирд┐рдзреА рд╡рд╛рдкрд░ рдиреЛрдВрджреА рд╡ рдорд╛рд╣рд┐рддреА рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ.</li>
    </ul>
  </div>
</section>

<footer>
  ┬й 2025 NovaTech Data Solutions LLP тАФ Smart Governance Dashboard
</footer>

<script>
// ЁЯМР Live time
function updateTime(){ 
  const now=new Date(); 
  const options={weekday:'short',year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit'};
  document.getElementById('liveTime').innerText=now.toLocaleDateString('mr-IN',options);
}
setInterval(updateTime,1000); updateTime();

// Navbar shadow on scroll
window.addEventListener('scroll',()=>{ 
  document.getElementById('navbar').classList.toggle('scrolled', window.scrollY>10); 
});

// Scroll animations
const observer=new IntersectionObserver(entries=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      entry.target.classList.add('visible'); 
      observer.unobserve(entry.target);
    }
  })
},{threshold:0.2});
document.querySelectorAll('.card, .table-container, canvas, .highlight').forEach(el=>observer.observe(el));

// Initialize charts
const ctxBar=document.getElementById('barChart').getContext('2d');
const ctxPie=document.getElementById('pieChart').getContext('2d');
const barChart=new Chart(ctxBar,{type:'bar',data:{labels:[],datasets:[{label:'рдЙрддреНрдкрдиреНрди (тВ╣)',data:[],backgroundColor:'#00b65e'},{label:'рдЦрд░реНрдЪ (тВ╣)',data:[],backgroundColor:'#ff6f61'}]},options:{responsive:true,animation:{duration:1200,easing:'easeOutBounce'},plugins:{legend:{position:'top'}}}});
const pieChart=new Chart(ctxPie,{type:'doughnut',data:{labels:[],datasets:[{label:'рдЦрд░реНрдЪ рд╡рд┐рддрд░рдг',data:[],backgroundColor:['#ff6384','#36a2eb','#ffce56','#4bc0c0','#9966ff']}]},options:{responsive:true,animation:{animateScale:true,duration:1500},plugins:{legend:{position:'bottom'}}}});

// Update totals and charts dynamically
function updateTotals(){
  const rows=document.querySelectorAll("#financeTable tbody tr");
  let totalIncome=0,totalExpense=0,totalBalance=0,maxExpense=0,maxRow=null;
  let labels=[],incomeData=[],expenseData=[];
  
  rows.forEach(row=>{
    const income=parseFloat(row.cells[1].innerText)||0;
    const expense=parseFloat(row.cells[2].innerText)||0;
    const balance=income-expense;
    row.cells[3].innerText=balance.toLocaleString();
    row.cells[3].classList.toggle('negative',balance<0);
    
    totalIncome+=income; totalExpense+=expense; totalBalance+=balance;
    
    labels.push(row.cells[0].innerText);
    incomeData.push(income);
    expenseData.push(expense);

    if(expense>maxExpense){ maxExpense=expense; maxRow=row; }
    
    // Tooltip % (temporary placeholder; update after totals calculated)
  });

  // Update tooltips after totals
  rows.forEach(row=>{
    const income=parseFloat(row.cells[1].innerText)||0;
    const expense=parseFloat(row.cells[2].innerText)||0;
    row.cells[1].setAttribute('data-tooltip',((income/totalIncome*100)||0).toFixed(1)+'%');
    row.cells[2].setAttribute('data-tooltip',((expense/totalExpense*100)||0).toFixed(1)+'%');
  });

  document.getElementById("totalIncome").innerText=totalIncome.toLocaleString();
  document.getElementById("totalExpense").innerText=totalExpense.toLocaleString();
  document.getElementById("totalBalance").innerText=totalBalance.toLocaleString();

  // Pulse largest expense
  document.querySelectorAll("#financeTable tbody tr td:nth-child(3)").forEach(td=>td.style.animation='');
  if(maxRow){ maxRow.cells[2].style.animation="pulse 1.5s infinite"; }

  // Update charts
  barChart.data.labels=labels;
  barChart.data.datasets[0].data=incomeData;
  barChart.data.datasets[1].data=expenseData;
  barChart.update();

  pieChart.data.labels=labels;
  pieChart.data.datasets[0].data=expenseData;
  pieChart.update();
}

// Listen for editable table changes
document.querySelectorAll("#financeTable td[contenteditable='true']").forEach(cell=>cell.addEventListener("input",updateTotals));

updateTotals();

// CSV Download
document.querySelector(".download-btn").addEventListener("click",()=>{
  let csv="рд╡рд┐рднрд╛рдЧ,рдЙрддреНрдкрдиреНрди (тВ╣),рдЦрд░реНрдЪ (тВ╣),рд╢рд┐рд▓реНрд▓рдХ (тВ╣)\n";
  document.querySelectorAll("#financeTable tbody tr").forEach(row=>{
    const cells=[...row.cells].map(td=>`"${td.innerText}"`);
    csv+=cells.join(",")+"\n";
  });
  const blob=new Blob(["\uFEFF"+csv],{type:"text/csv;charset=utf-8;"});
  const link=document.createElement("a");
  link.href=URL.createObjectURL(blob);
  link.download="рдЧреНрд░рд╛рдордкрдВрдЪрд╛рдпрдд_рдЕрд░реНрдерд╕рдВрдХрд▓реНрдк.csv";
  link.click();
});
</script>

<!-- External Script (Correct way) -->
    <script src="assets/js/script1.js"></script>

</body>
</html>
